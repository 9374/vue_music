(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d0d3f62"],{1148:function(t,a,i){"use strict";var e=i("a691"),n=i("1d80");t.exports=function(t){var a=String(n(this)),i="",r=e(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(a+=a))1&r&&(i+=a);return i}},"408a":function(t,a,i){var e=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=e(t))throw TypeError("Incorrect invocation");return+t}},"6f29":function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"player",staticStyle:{width:"300px"}},[i("div",{staticClass:"player_disk",on:{click:function(a){return t.changePlayDetailState(!0)}}},[i("div",{staticClass:"disk",class:{disk__playing:t.isPlaying}},[i("label",{ref:"cover",staticClass:"disk_cover",style:{transform:t.stopMatrix,backgroundImage:t.coverUrl?"url("+t.coverUrl+")":""},attrs:{for:"file"}})])]),i("div",{staticClass:"player_control"},[i("div",{staticClass:"control",class:{control__playing:t.isPlaying}},[i("div",{staticClass:"control_btn control_btn__side",on:{click:t.prev}},[i("i",{staticClass:"el-icon-arrow-left"})]),i("div",{staticClass:"control_btn",on:{click:t.onplay}},[i("i",{class:t.isPlaying?"el-icon-video-pause":"el-icon-video-play"})]),i("div",{staticClass:"control_btn control_btn__side",on:{click:t.next}},[i("i",{staticClass:"el-icon-arrow-right"})])])]),i("div",{staticClass:"player_progress"},[i("div",{staticClass:"progress",class:{progress__playing:t.isPlaying}},[i("h2",{staticClass:"progress_title"},[t._v(" "+t._s(t.currentPlay?t.currentPlay.name:"暂无播放歌曲")+" ")]),i("p",{staticClass:"progress_text"},[t._v(" "+t._s(t.s_to_hs(t.position))+" / "+t._s(t.s_to_hs(t.duration))+" ")]),i("div",{staticClass:"progress_line"},[i("span",{style:{width:t.progress}})])])]),i("audio",{ref:"audio",staticStyle:{display:"none"},attrs:{src:t.playUrl,loop:t.isLoop,autoplay:t.isPlaying},on:{timeupdate:t.onupdate,canplay:t.getDuration,play:t.play,pause:t.pause,ended:t.end}})])},n=[],r=i("1da1"),o=i("5530"),s=(i("b680"),i("96cf"),i("ed08")),l=i("5880"),c={data:function(){return{stopMatrix:0,position:0,duration:0,playSong:{}}},watch:{"nowPlay.playId":function(t){this.changeCurrentLyric({}),this.getCurrentPlay(t),this.getCurrentPlayLyric(t)},isPlaying:function(t){t?this.$refs.audio.play():this.$refs.audio.pause()},position:function(t){this.changePlaycurrentTime(this.position)},duration:function(t){this.changePlayTotalTime(this.duration)}},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({s_to_hs:s["a"]},Object(l["mapMutations"])("play",["changePlaycurrentTime","changePlayTotalTime","changePlayId","playNextSong","playPrevSong","changePlayState","changePlayDetailState"])),Object(l["mapActions"])("play",["getCurrentPlay"])),Object(l["mapActions"])("lyric",["getCurrentPlayLyric","formatLyric"])),Object(l["mapMutations"])("lyric",["changeCurrentLyric"])),{},{next:function(){this.playNextSong(this.nowPlay.playId)},prev:function(){this.playPrevSong(this.playId),console.log("当前播放id",this.nowPlay.playId,"点击上一首")},getDuration:function(){this.duration=this.$refs.audio.duration},play:function(){var t=this;this.changePlayState(!0),setTimeout((function(){t.nowPlay.playId!==t.currentPlay.id&&t.getCurrentPlay(t.nowPlay.playId),t.lyric||t.getCurrentPlayLyric(t.nowPlay.playId)}),2e3)},pause:function(){this.changePlayState(!1)},onupdate:function(){var t,a;(null===(t=this.$refs.audio)||void 0===t?void 0:t.currentTime)>1&&(this.position=parseInt(null===(a=this.$refs.audio)||void 0===a?void 0:a.currentTime))},onplay:function(){this.isPlaying?this.changePlayState(!1):this.changePlayState(!0)},end:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.currentLyric="",t.changePlayState(!1),a.next=4,t.playNextSong(t.nowPlay.playId);case 4:setTimeout((function(){t.nowPlay.playId&&t.changePlayState(!0)}),1e3);case 5:case"end":return a.stop()}}),a)})))()}}),computed:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(l["mapState"])("lyric",["lyric"])),Object(l["mapState"])("play",["nowPlay","currentPlay","playList","isPlaying","isLoop"])),Object(l["mapGetters"])("play",["playUrl","coverUrl"])),{},{progress:function(){if(this.playUrl){var t=this.position/this.duration;return"".concat((100*t).toFixed(2),"%")}return 0}})},u=c,y=(i("7053"),i("2877")),p=Object(y["a"])(u,e,n,!1,null,"7312c95a",null);a["default"]=p.exports},7053:function(t,a,i){"use strict";i("9a6b")},"9a6b":function(t,a,i){},b680:function(t,a,i){"use strict";var e=i("23e7"),n=i("a691"),r=i("408a"),o=i("1148"),s=i("d039"),l=1..toFixed,c=Math.floor,u=function(t,a,i){return 0===a?i:a%2===1?u(t,a-1,i*t):u(t*t,a/2,i)},y=function(t){var a=0,i=t;while(i>=4096)a+=12,i/=4096;while(i>=2)a+=1,i/=2;return a},p=function(t,a,i){var e=-1,n=i;while(++e<6)n+=a*t[e],t[e]=n%1e7,n=c(n/1e7)},d=function(t,a){var i=6,e=0;while(--i>=0)e+=t[i],t[i]=c(e/a),e=e%a*1e7},h=function(t){var a=6,i="";while(--a>=0)if(""!==i||0===a||0!==t[a]){var e=String(t[a]);i=""===i?e:i+o.call("0",7-e.length)+e}return i},f=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}));e({target:"Number",proto:!0,forced:f},{toFixed:function(t){var a,i,e,s,l=r(this),c=n(t),f=[0,0,0,0,0,0],g="",v="0";if(c<0||c>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(a=y(l*u(2,69,1))-69,i=a<0?l*u(2,-a,1):l/u(2,a,1),i*=4503599627370496,a=52-a,a>0){p(f,0,i),e=c;while(e>=7)p(f,1e7,0),e-=7;p(f,u(10,e,1),0),e=a-1;while(e>=23)d(f,1<<23),e-=23;d(f,1<<e),p(f,1,1),d(f,2),v=h(f)}else p(f,0,i),p(f,1<<-a,0),v=h(f)+o.call("0",c);return c>0?(s=v.length,v=g+(s<=c?"0."+o.call("0",c-s)+v:v.slice(0,s-c)+"."+v.slice(s-c))):v=g+v,v}})}}]);
//# sourceMappingURL=chunk-5d0d3f62.dd1f185b.js.map