(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9fd72bfc"],{1333:function(t,e,s){"use strict";s("2a1c")},"2a1c":function(t,e,s){},3267:function(t,e,s){"use strict";s("80d3")},"42e6":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{width:"100%"}},[s("el-table",{staticStyle:{"font-size":"14px"},attrs:{data:t.SongsList,stripe:"","row-class-name":t.tableRowClassName},on:{"row-dblclick":t.onPlaylistClick}},[s("el-table-column",{attrs:{width:"34px"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[s("IsPlayIcon",{attrs:{id:e.id}}),s("IsLike",{attrs:{id:e.id}})]}}])}),s("el-table-column",{attrs:{prop:"name","min-width":"200",label:"音乐标题"}}),"search"===t.status?s("el-table-column",{attrs:{width:"100px",prop:"artists[0].name",label:"歌手"}}):t._e(),"new"===t.status?s("el-table-column",{attrs:{width:"100px",prop:"song.artists[0].name",label:"歌手"}}):t._e(),"list"===t.status?s("el-table-column",{attrs:{width:"100px",prop:"ar[0].name",label:"歌手"}}):t._e(),"search"===t.status&&t.btn?s("el-table-column",{attrs:{"min-width":"200px",prop:"album.name",label:"专辑"}}):t._e(),"new"===t.status&&t.btn?s("el-table-column",{attrs:{"min-width":"200px",prop:"song.album.name",label:"专辑"}}):t._e(),"list"===t.status&&t.btn?s("el-table-column",{attrs:{"min-width":"200px",prop:"al.name",label:"专辑"}}):t._e(),t.btn?s("el-table-column",{attrs:{label:"操作",width:"300px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){return t.onPlay(a.id)}}},[s("i",{staticClass:"el-icon-video-play"}),t._v("播放 ")]),s("el-button",{attrs:{type:"info",round:""},on:{click:function(e){return t.addToList(a.id)}}},[t._v("添加到列表")])]}}],null,!1,2400387374)}):t._e(),t.btn?t._e():s("el-table-column",{attrs:{width:"40"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[s("DeleteIcon",{attrs:{id:e.id}})]}}],null,!1,3036415769)})],1)],1)},n=[],i=s("5530"),r=s("5880"),o={props:{SongsList:{type:Array,required:!0,default:function(){return[]}},status:{type:String,required:!0},btn:{type:Boolean,default:!0}},data:function(){return{}},methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(r["mapActions"])("play",["getCurrentPlay","addToList"])),Object(r["mapMutations"])("play",["changePlayId","addPlayList"])),{},{onPlay:function(t){console.log("我要播放",t),this.changePlayId(t)},onPlaylistClick:function(t,e,s){this.changePlayId(t.id)},tableRowClassName:function(t){var e=t.row;t.rowIndex;return e.id===this.nowPlay.playId?"success-row":""}}),computed:Object(i["a"])({},Object(r["mapState"])("play",["nowPlay","playList"]))},c=o,l=(s("1333"),s("2877")),u=Object(l["a"])(c,a,n,!1,null,"395ef2a0",null);e["a"]=u.exports},"5ca7":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return null!==t.seeSongsList?s("div",{staticClass:"main"},[s("div",{staticClass:"head"},[s("div",{staticClass:"pic"},[s("img",{attrs:{src:t.seeSongsList.coverImgUrl,alt:""}})]),s("div",{staticClass:"info"},[s("h3",[t._v(t._s(t.seeSongsList.name))]),s("div",{staticClass:"user"},[s("el-avatar",{attrs:{src:t.seeSongsList.creator.avatarUrl}}),s("p",[t._v(t._s(t.seeSongsList.creator.nickname))])],1),s("p",[t._v(" 标签: "),t._l(t.seeSongsList.tags,(function(e,a){return s("el-tag",{key:a,staticClass:"tags"},[t._v(t._s(e))])}))],2),s("p",{staticClass:"description"},[t._v("简介:"+t._s(t.seeSongsList.description))]),s("div",{staticClass:"btn"},[s("el-button",{attrs:{type:"primary",round:""},on:{click:t.addAlltoList}},[t._v("播放全部")]),s("el-button",{attrs:{type:"info",disabled:t.seeSongsList.userId===t.userInfo.userId||!t.isLogin,round:""},on:{click:function(e){return t.subscribeSongList(t.seeSongsList.subscribed,t.seeSongsList.id)}}},[t._v(t._s(t.seeSongsList.subscribed?"已收藏":"收藏"))])],1)])]),s("p",{staticClass:"title"},[t._v("歌曲列表")]),s("SongsTable",{attrs:{status:"list",SongsList:t.seeSongsList.tracks}})],1):t._e()},n=[],i=s("1da1"),r=s("5530"),o=(s("159b"),s("96cf"),s("42e6")),c=s("5880"),l=s("8b06"),u={watch:{id:function(){this.seeSongsList=null,this.getSongsList()}},created:function(){this.getSongsList()},data:function(){return{seeSongsList:null}},props:["id"],methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(c["mapMutations"])("play",["changePlayId","addPlayList","clearPlayList"])),Object(c["mapActions"])("user",["initUserPlayList"])),{},{getSongsList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["c"])(t.id);case 2:s=e.sent,a=s.data,200===a.code&&(console.log("歌单列表",a.playlist),t.seeSongsList=a.playlist);case 5:case"end":return e.stop()}}),e)})))()},onPlay:function(t){this.changePlayId(t)},addAlltoList:function(){var t=this;this.playList.length>0?this.$confirm("全部播放替换掉当前播放歌单","提示").then((function(){t.clearPlayList(),t.seeSongsList.tracks.forEach((function(e){t.addPlayList(e)})),t.changePlayId(t.seeSongsList.tracks[0].id)})).catch(console.log):(this.seeSongsList.tracks.forEach((function(e){t.addPlayList(e)})),this.changePlayId(this.seeSongsList.tracks[0].id))},subscribeSongList:function(t,e){var s=this,a=t?2:1;t?this.$confirm("确认取消收藏歌单吗?","提示").then(Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["h"])(e,a);case 2:n=t.sent,200===n.data.code&&(s.$message.success("取消收藏成功"),s.seeSongsList.subscribed=!1,s.initUserPlayList(s.userInfo.userId),console.log(n));case 4:case"end":return t.stop()}}),t)})))).catch(console.log):this.$confirm("确认收藏歌单吗?","提示").then(Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["h"])(e,a);case 2:n=t.sent,200===n.data.code&&(s.$message.success("收藏成功"),s.seeSongsList.subscribed=!0,s.initUserPlayList(s.userInfo.userId),console.log(n));case 4:case"end":return t.stop()}}),t)})))).catch(console.log)}}),components:{SongsTable:o["a"]},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(c["mapGetters"])("user",["isLogin"])),Object(c["mapState"])("play",["playList"])),Object(c["mapState"])("user",["userInfo"]))},d=u,p=(s("3267"),s("2877")),b=Object(p["a"])(d,a,n,!1,null,"c064868c",null);e["default"]=b.exports},"80d3":function(t,e,s){}}]);
//# sourceMappingURL=chunk-9fd72bfc.22f1ae3e.js.map