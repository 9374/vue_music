(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cafa19ee"],{"0c74":function(t,a,i){"use strict";i("869b")},"6f29":function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"player",staticStyle:{width:"300px"}},[a("div",{staticClass:"player_disk",on:{click:function(a){return t.changePlayDetailState(!0)}}},[a("div",{staticClass:"disk",class:{disk__playing:t.isPlaying}},[a("label",{ref:"cover",staticClass:"disk_cover",style:{transform:t.stopMatrix,backgroundImage:t.coverUrl?`url(${t.coverUrl})`:""},attrs:{for:"file"}})])]),a("div",{staticClass:"player_control"},[a("div",{staticClass:"control",class:{control__playing:t.isPlaying}},[a("div",{staticClass:"control_btn control_btn__side",on:{click:t.prev}},[a("i",{staticClass:"el-icon-arrow-left"})]),a("div",{staticClass:"control_btn",on:{click:t.onplay}},[a("i",{class:t.isPlaying?"el-icon-video-pause":"el-icon-video-play"})]),a("div",{staticClass:"control_btn control_btn__side",on:{click:t.next}},[a("i",{staticClass:"el-icon-arrow-right"})])])]),a("div",{staticClass:"player_progress"},[a("div",{staticClass:"progress",class:{progress__playing:t.isPlaying}},[a("h2",{staticClass:"progress_title"},[t._v(" "+t._s(t.currentPlay?t.currentPlay.name:"暂无播放歌曲")+" ")]),a("p",{staticClass:"progress_text"},[t._v(" "+t._s(t.s_to_hs(t.position))+" / "+t._s(t.s_to_hs(t.duration))+" ")]),a("div",{staticClass:"progress_line"},[a("span",{style:{width:t.progress}})])])]),a("audio",{ref:"audio",staticStyle:{display:"none"},attrs:{src:t.playUrl,loop:t.isLoop,autoplay:t.isPlaying},on:{timeupdate:t.onupdate,canplay:t.getDuration,play:t.play,pause:t.pause,ended:t.end}})])},e=[],l=i("ed08"),n=i("2f62"),r={data(){return{stopMatrix:0,position:0,duration:0,playSong:{}}},watch:{"nowPlay.playId"(t){this.changeCurrentLyric({}),this.getCurrentPlay(t),this.getCurrentPlayLyric(t)},"nowPlay.newCurrentTime"(t){this.$refs.audio.currentTime=t},isPlaying(t){t?this.$refs.audio.play():this.$refs.audio.pause()},position(t){this.changePlaycurrentTime(this.position)},duration(t){this.changePlayTotalTime(this.duration)}},methods:{s_to_hs:l["a"],...Object(n["d"])("play",["changePlaycurrentTime","changePlayTotalTime","changePlayId","playNextSong","playPrevSong","changePlayState","changePlayDetailState"]),...Object(n["b"])("play",["getCurrentPlay"]),...Object(n["b"])("lyric",["getCurrentPlayLyric","formatLyric"]),...Object(n["d"])("lyric",["changeCurrentLyric"]),next(){this.playNextSong(this.nowPlay.playId)},prev(){this.playPrevSong(this.nowPlay.playId),console.log("当前播放id",this.nowPlay.playId,"点击上一首")},getDuration(){this.duration=this.$refs.audio.duration},play(){this.changePlayState(!0),setTimeout(()=>{this.nowPlay.playId!==this.currentPlay.id&&this.getCurrentPlay(this.nowPlay.playId),this.lyric||this.getCurrentPlayLyric(this.nowPlay.playId)},2e3)},pause(){this.changePlayState(!1)},onupdate(){var t,a;(null===(t=this.$refs.audio)||void 0===t?void 0:t.currentTime)>1&&(this.position=parseInt(null===(a=this.$refs.audio)||void 0===a?void 0:a.currentTime))},onplay(){this.isPlaying?this.changePlayState(!1):this.changePlayState(!0)},async end(){this.currentLyric="",this.changePlayState(!1),await this.playNextSong(this.nowPlay.playId),setTimeout(()=>{this.nowPlay.playId&&this.changePlayState(!0)},1e3)}},computed:{...Object(n["e"])("lyric",["lyric"]),...Object(n["e"])("play",["nowPlay","currentPlay","playList","isPlaying","isLoop"]),...Object(n["c"])("play",["playUrl","coverUrl"]),progress(){if(this.playUrl){const t=this.position/this.duration;return(100*t).toFixed(2)+"%"}return 0}}},o=r,c=(i("0c74"),i("2877")),y=Object(c["a"])(o,s,e,!1,null,"0a8e0ac0",null);a["default"]=y.exports},"869b":function(t,a,i){}}]);
//# sourceMappingURL=chunk-cafa19ee.34dd9990.js.map