(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-195442ba"],{1148:function(t,i,e){"use strict";var n=e("a691"),r=e("1d80");t.exports=function(t){var i=String(r(this)),e="",s=n(t);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(i+=i))1&s&&(e+=i);return e}},1276:function(t,i,e){"use strict";var n=e("d784"),r=e("44e7"),s=e("825a"),a=e("1d80"),l=e("4840"),o=e("8aa5"),c=e("50c4"),u=e("14c3"),h=e("9263"),p=e("9f7f"),d=p.UNSUPPORTED_Y,y=[].push,f=Math.min,g=4294967295;n("split",2,(function(t,i,e){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var n=String(a(this)),s=void 0===e?g:e>>>0;if(0===s)return[];if(void 0===t)return[n];if(!r(t))return i.call(n,t,s);var l,o,c,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,f=new RegExp(t.source,p+"g");while(l=h.call(f,n)){if(o=f.lastIndex,o>d&&(u.push(n.slice(d,l.index)),l.length>1&&l.index<n.length&&y.apply(u,l.slice(1)),c=l[0].length,d=o,u.length>=s))break;f.lastIndex===l.index&&f.lastIndex++}return d===n.length?!c&&f.test("")||u.push(""):u.push(n.slice(d)),u.length>s?u.slice(0,s):u}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)}:i,[function(i,e){var r=a(this),s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,r,e):n.call(String(r),i,e)},function(t,r){var a=e(n,t,this,r,n!==i);if(a.done)return a.value;var h=s(t),p=String(this),y=l(h,RegExp),v=h.unicode,w=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(d?"g":"y"),_=new y(d?"^(?:"+h.source+")":h,w),b=void 0===r?g:r>>>0;if(0===b)return[];if(0===p.length)return null===u(_,p)?[p]:[];var x=0,m=0,L=[];while(m<p.length){_.lastIndex=d?0:m;var P,C=u(_,d?p.slice(m):p);if(null===C||(P=f(c(_.lastIndex+(d?m:0)),p.length))===x)m=o(p,m,v);else{if(L.push(p.slice(x,m)),L.length===b)return L;for(var I=1;I<=C.length-1;I++)if(L.push(C[I]),L.length===b)return L;m=x=P}}return L.push(p.slice(x)),L}]}),d)},"408a":function(t,i,e){var n=e("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},"44e7":function(t,i,e){var n=e("861d"),r=e("c6b6"),s=e("b622"),a=s("match");t.exports=function(t){var i;return n(t)&&(void 0!==(i=t[a])?!!i:"RegExp"==r(t))}},"6f29":function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("el-row",[e("el-col",{attrs:{span:12}},[e("div",{staticClass:"player"},[e("div",{staticClass:"player_disk"},[e("div",{staticClass:"disk",class:{disk__playing:t.isPlaying}},[e("label",{ref:"cover",staticClass:"disk_cover",style:{transform:t.stopMatrix,backgroundImage:t.coverUrl?"url("+t.coverUrl+")":""},attrs:{for:"file"}})])]),e("div",{staticClass:"player_control"},[e("div",{staticClass:"control",class:{control__playing:t.isPlaying}},[e("div",{staticClass:"control_btn control_btn__side",on:{click:t.prev}},[e("i",{staticClass:"el-icon-arrow-left"})]),e("div",{staticClass:"control_btn",on:{click:t.onplay}},[e("i",{class:t.isPlaying?"el-icon-video-pause":"el-icon-video-play"})]),e("div",{staticClass:"control_btn control_btn__side",on:{click:t.next}},[e("i",{staticClass:"el-icon-arrow-right"})])])]),e("div",{staticClass:"player_progress"},[e("div",{staticClass:"progress",class:{progress__playing:t.isPlaying}},[e("h2",{staticClass:"progress_title"},[t._v(" "+t._s(t.currentPlay?t.currentPlay.name:"暂无播放歌曲")+" ")]),e("p",{staticClass:"progress_text"},[t._v(" "+t._s(t.s_to_hs(t.position))+" / "+t._s(t.s_to_hs(t.duration))+" ")]),e("div",{staticClass:"progress_line"},[e("span",{style:{width:t.progress}})])])])]),t._v(" >")]),e("el-col",{attrs:{span:12}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showlyric,expression:"showlyric"}],staticClass:"lyric"},[e("p",[t._v(" "+t._s(t.currentLyric)+" ")]),e("p",{directives:[{name:"show",rawName:"v-show",value:t.currentTranslationLyric,expression:"currentTranslationLyric"}]},[t._v(t._s(t.currentTranslationLyric))])])]),e("el-col",{attrs:{span:0}},[e("audio",{ref:"audio",attrs:{src:t.playUrl,preload:"metadata",autoplay:"",loop:t.isLoop},on:{timeupdate:t.onupdate,canplay:t.getDuration,play:t.play,pause:t.pause,ended:t.end}})])],1)},r=[],s=e("5530"),a=(e("ac1f"),e("1276"),e("159b"),e("b680"),e("5880")),l={data:function(){return{contentText:"",newLyric:"",newLyric2:"",showlyric:!0,stopMatrix:0,position:0,duration:0,playSong:{},currentLyric:"",currentTranslationLyric:""}},watch:{playId:function(t){this.getCurrentPlayLyric(t)},lyric:function(t){this.changeLyric()}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(a["mapMutations"])(["changePlayId","playNextSong","playPrevSong","changePlayState"])),Object(a["mapActions"])(["getCurrentPlay","getCurrentPlayLyric"])),{},{next:function(){this.playNextSong(this.playId),console.log("当前播放id",this.playId,"点击下一首")},prev:function(){this.playPrevSong(this.playId),console.log("当前播放id",this.playId,"点击上一首")},getDuration:function(){this.duration=this.$refs.audio.duration},play:function(){this.changePlayState(!0),this.currentPlay||this.getCurrentPlay(this.playId),this.currentPlay.id!==this.playId&&this.getCurrentPlay(this.playId)},pause:function(){this.changePlayState(!1)},onupdate:function(){this.$refs.audio.currentTime&&(this.position=this.$refs.audio.currentTime),this.newLyric[parseInt(this.position)]&&(this.currentLyric=this.newLyric[parseInt(this.position)]),this.newLyric2&&this.newLyric2[parseInt(this.position)]&&(this.currentTranslationLyric=this.newLyric2[parseInt(this.position)])},onplay:function(){!1===this.isPlaying?this.$refs.audio.play():this.$refs.audio.pause()},end:function(){this.currentLyric="",this.changePlayState(!1),console.log("结束播放"),this.$store.commit("playNextSong",this.playId)},changeLyric:function(){if(this.currentLyric=null,this.currentTranslationLyric=null,this.lyric&&"当前歌曲暂无歌词"!==this.lyric){console.log("开始处理歌词");var t=this.lyric.split("["),i=[];t.forEach((function(t){i.push(t.split("]"))}));var e={};i.forEach((function(t,i){e[60*t[0].split(".")[0].split(":")[0]+1*t[0].split(".")[0].split(":")[1]]=t[1]})),this.newLyric=e}else console.log("没有歌词"),this.newLyric="",this.currentLyric="当前歌曲暂无歌词";if(this.lyric2){console.log("开始处理翻译歌词");var n=this.lyric2.split("["),r=[];n.forEach((function(t){r.push(t.split("]"))}));var s={};r.forEach((function(t,i){s[60*t[0].split(".")[0].split(":")[0]+1*t[0].split(".")[0].split(":")[1]]=t[1]})),this.newLyric2=s}else this.newLyric2=null},s_to_hs:function(t){var i;return i=Math.floor(t/60),t=parseInt(t%60),i+="",t+="",i=1===i.length?"0"+i:i,t=1===t.length?"0"+t:t,i+":"+t}}),computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(a["mapState"])(["playId","currentPlay","lyric","playList","isPlaying","isLoop","lyric2"])),Object(a["mapGetters"])(["playUrl","coverUrl"])),{},{progress:function(){if(this.playUrl){var t=this.position/this.duration;return"".concat((100*t).toFixed(2),"%")}return 0}})},o=l,c=(e("e2a5"),e("2877")),u=Object(c["a"])(o,n,r,!1,null,"1dae4b8e",null);i["default"]=u.exports},b680:function(t,i,e){"use strict";var n=e("23e7"),r=e("a691"),s=e("408a"),a=e("1148"),l=e("d039"),o=1..toFixed,c=Math.floor,u=function(t,i,e){return 0===i?e:i%2===1?u(t,i-1,e*t):u(t*t,i/2,e)},h=function(t){var i=0,e=t;while(e>=4096)i+=12,e/=4096;while(e>=2)i+=1,e/=2;return i},p=function(t,i,e){var n=-1,r=e;while(++n<6)r+=i*t[n],t[n]=r%1e7,r=c(r/1e7)},d=function(t,i){var e=6,n=0;while(--e>=0)n+=t[e],t[e]=c(n/i),n=n%i*1e7},y=function(t){var i=6,e="";while(--i>=0)if(""!==e||0===i||0!==t[i]){var n=String(t[i]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},f=o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l((function(){o.call({})}));n({target:"Number",proto:!0,forced:f},{toFixed:function(t){var i,e,n,l,o=s(this),c=r(t),f=[0,0,0,0,0,0],g="",v="0";if(c<0||c>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(g="-",o=-o),o>1e-21)if(i=h(o*u(2,69,1))-69,e=i<0?o*u(2,-i,1):o/u(2,i,1),e*=4503599627370496,i=52-i,i>0){p(f,0,e),n=c;while(n>=7)p(f,1e7,0),n-=7;p(f,u(10,n,1),0),n=i-1;while(n>=23)d(f,1<<23),n-=23;d(f,1<<n),p(f,1,1),d(f,2),v=y(f)}else p(f,0,e),p(f,1<<-i,0),v=y(f)+a.call("0",c);return c>0?(l=v.length,v=g+(l<=c?"0."+a.call("0",c-l)+v:v.slice(0,l-c)+"."+v.slice(l-c))):v=g+v,v}})},de41:function(t,i,e){},e2a5:function(t,i,e){"use strict";e("de41")}}]);
//# sourceMappingURL=chunk-195442ba.2568eb9a.js.map