(window["webpackJsonp_music_pc2"]=window["webpackJsonp_music_pc2"]||[]).push([["chunk-41169409"],{"2c9b":function(t,s,e){"use strict";e("4022")},4022:function(t,s,e){},"42e6":function(t,s,e){"use strict";var a=function(){var t=this,s=t._self._c;return s("div",{staticStyle:{width:"100%"}},[s("el-table",{staticStyle:{"font-size":"14px"},attrs:{data:t.SongsList,stripe:"","row-class-name":t.tableRowClassName},on:{"row-dblclick":t.onPlaylistClick}},[s("el-table-column",{attrs:{width:"34px"},scopedSlots:t._u([{key:"default",fn:function({row:t}){return[s("IsPlayIcon",{attrs:{id:t.id}}),s("IsLike",{attrs:{id:t.id}})]}}])}),s("el-table-column",{attrs:{prop:"name","min-width":"200",label:"音乐标题"}}),"search"===t.status?s("el-table-column",{attrs:{width:"100px",prop:"artists[0].name",label:"歌手"}}):t._e(),"new"===t.status?s("el-table-column",{attrs:{width:"100px",prop:"song.artists[0].name",label:"歌手"}}):t._e(),"list"===t.status?s("el-table-column",{attrs:{width:"100px",prop:"ar[0].name",label:"歌手"}}):t._e(),"search"===t.status&&t.btn?s("el-table-column",{attrs:{"min-width":"200px",prop:"album.name",label:"专辑"}}):t._e(),"new"===t.status&&t.btn?s("el-table-column",{attrs:{"min-width":"200px",prop:"song.album.name",label:"专辑"}}):t._e(),"list"===t.status&&t.btn?s("el-table-column",{attrs:{"min-width":"200px",prop:"al.name",label:"专辑"}}):t._e(),t.btn?s("el-table-column",{attrs:{label:"操作",width:"300px"},scopedSlots:t._u([{key:"default",fn:function({row:e}){return[s("el-button",{attrs:{type:"primary",round:""},on:{click:function(s){return t.onPlay(e.id)}}},[s("i",{staticClass:"el-icon-video-play"}),t._v("播放 ")]),s("el-button",{attrs:{type:"info",round:""},on:{click:function(s){return t.addToList(e.id)}}},[t._v("添加到列表")])]}}],null,!1,2400387374)}):t._e(),t.btn?t._e():s("el-table-column",{attrs:{width:"40"},scopedSlots:t._u([{key:"default",fn:function({row:t}){return[s("DeleteIcon",{attrs:{id:t.id}})]}}],null,!1,3036415769)})],1)],1)},i=[],n=e("2f62"),l={props:{SongsList:{type:Array,required:!0,default:()=>[]},status:{type:String,required:!0},btn:{type:Boolean,default:!0}},data(){return{}},methods:{...Object(n["b"])("play",["getCurrentPlay","addToList"]),...Object(n["d"])("play",["changePlayId","addPlayList"]),onPlay(t){console.log("我要播放",t),this.changePlayId(t)},onPlaylistClick(t,s,e){this.changePlayId(t.id)},tableRowClassName({row:t,rowIndex:s}){return t.id===this.nowPlay.playId?"success-row":""}},computed:{...Object(n["e"])("play",["nowPlay","playList"])}},o=l,c=(e("bbcb"),e("2877")),r=Object(c["a"])(o,a,i,!1,null,"395ef2a0",null);s["a"]=r.exports},"5ca7":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t._self._c;return null!==t.seeSongsList?s("div",{staticClass:"main"},[s("div",{staticClass:"head"},[s("div",{staticClass:"pic"},[s("img",{attrs:{src:t.seeSongsList.coverImgUrl,alt:""}})]),s("div",{staticClass:"info"},[s("h3",[t._v(t._s(t.seeSongsList.name))]),s("div",{staticClass:"user"},[s("el-avatar",{attrs:{src:t.seeSongsList.creator.avatarUrl}}),s("p",[t._v(t._s(t.seeSongsList.creator.nickname))])],1),s("p",[t._v(" 标签: "),t._l(t.seeSongsList.tags,(function(e,a){return s("el-tag",{key:a,staticClass:"tags"},[t._v(t._s(e))])}))],2),s("p",{staticClass:"description"},[t._v("简介:"+t._s(t.seeSongsList.description))]),s("div",{staticClass:"btn"},[s("el-button",{attrs:{type:"primary",round:""},on:{click:t.addAlltoList}},[t._v("播放全部")]),s("el-button",{attrs:{type:"info",disabled:t.seeSongsList.userId===t.userInfo.userId||!t.isLogin,round:""},on:{click:function(s){return t.subscribeSongList(t.seeSongsList.subscribed,t.seeSongsList.id)}}},[t._v(t._s(t.seeSongsList.subscribed?"已收藏":"收藏"))])],1)])]),s("p",{staticClass:"title"},[t._v("歌曲列表")]),s("SongsTable",{attrs:{status:"list",SongsList:t.seeSongsList.tracks}})],1):t._e()},i=[],n=(e("0643"),e("4e3e"),e("42e6")),l=e("2f62"),o=e("8b06"),c={watch:{id(){this.seeSongsList=null,this.getSongsList()}},created(){this.getSongsList()},data(){return{seeSongsList:null}},props:["id"],methods:{...Object(l["d"])("play",["changePlayId","addPlayList","clearPlayList"]),...Object(l["b"])("user",["initUserPlayList"]),async getSongsList(){const{data:t}=await Object(o["c"])(this.id);200===t.code&&(console.log("歌单列表",t.playlist),this.seeSongsList=t.playlist)},onPlay(t){this.changePlayId(t)},addAlltoList(){this.playList.length>0?this.$confirm("全部播放替换掉当前播放歌单","提示").then(()=>{this.clearPlayList(),this.seeSongsList.tracks.forEach(t=>{this.addPlayList(t)}),this.changePlayId(this.seeSongsList.tracks[0].id)}).catch(console.log):(this.seeSongsList.tracks.forEach(t=>{this.addPlayList(t)}),this.changePlayId(this.seeSongsList.tracks[0].id))},subscribeSongList(t,s){const e=t?2:1;t?this.$confirm("确认取消收藏歌单吗?","提示").then(async()=>{const t=await Object(o["h"])(s,e);200===t.data.code&&(this.$message.success("取消收藏成功"),this.seeSongsList.subscribed=!1,this.initUserPlayList(this.userInfo.userId),console.log(t))}).catch(console.log):this.$confirm("确认收藏歌单吗?","提示").then(async()=>{const t=await Object(o["h"])(s,e);200===t.data.code&&(this.$message.success("收藏成功"),this.seeSongsList.subscribed=!0,this.initUserPlayList(this.userInfo.userId),console.log(t))}).catch(console.log)}},components:{SongsTable:n["a"]},computed:{...Object(l["c"])("user",["isLogin"]),...Object(l["e"])("play",["playList"]),...Object(l["e"])("user",["userInfo"])}},r=c,d=(e("2c9b"),e("2877")),u=Object(d["a"])(r,a,i,!1,null,"c064868c",null);s["default"]=u.exports},bbcb:function(t,s,e){"use strict";e("fcc2")},fcc2:function(t,s,e){}}]);
//# sourceMappingURL=chunk-41169409.e9048992.js.map