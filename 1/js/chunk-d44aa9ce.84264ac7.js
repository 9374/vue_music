(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d44aa9ce"],{1148:function(t,i,e){"use strict";var r=e("a691"),n=e("1d80");t.exports=function(t){var i=String(n(this)),e="",a=r(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(i+=i))1&a&&(e+=i);return e}},1276:function(t,i,e){"use strict";var r=e("d784"),n=e("44e7"),a=e("825a"),s=e("1d80"),l=e("4840"),c=e("8aa5"),o=e("50c4"),u=e("14c3"),h=e("9263"),p=e("9f7f"),y=p.UNSUPPORTED_Y,d=[].push,f=Math.min,g=4294967295;r("split",2,(function(t,i,e){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var r=String(s(this)),a=void 0===e?g:e>>>0;if(0===a)return[];if(void 0===t)return[r];if(!n(t))return i.call(r,t,a);var l,c,o,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),y=0,f=new RegExp(t.source,p+"g");while(l=h.call(f,r)){if(c=f.lastIndex,c>y&&(u.push(r.slice(y,l.index)),l.length>1&&l.index<r.length&&d.apply(u,l.slice(1)),o=l[0].length,y=c,u.length>=a))break;f.lastIndex===l.index&&f.lastIndex++}return y===r.length?!o&&f.test("")||u.push(""):u.push(r.slice(y)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)}:i,[function(i,e){var n=s(this),a=void 0==i?void 0:i[t];return void 0!==a?a.call(i,n,e):r.call(String(n),i,e)},function(t,n){var s=e(r,t,this,n,r!==i);if(s.done)return s.value;var h=a(t),p=String(this),d=l(h,RegExp),v=h.unicode,w=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(y?"g":"y"),b=new d(y?"^(?:"+h.source+")":h,w),_=void 0===n?g:n>>>0;if(0===_)return[];if(0===p.length)return null===u(b,p)?[p]:[];var m=0,x=0,L=[];while(x<p.length){b.lastIndex=y?0:x;var P,C=u(b,y?p.slice(x):p);if(null===C||(P=f(o(b.lastIndex+(y?x:0)),p.length))===m)x=c(p,x,v);else{if(L.push(p.slice(m,x)),L.length===_)return L;for(var I=1;I<=C.length-1;I++)if(L.push(C[I]),L.length===_)return L;x=m=P}}return L.push(p.slice(m)),L}]}),y)},"408a":function(t,i,e){var r=e("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},"44e7":function(t,i,e){var r=e("861d"),n=e("c6b6"),a=e("b622"),s=a("match");t.exports=function(t){var i;return r(t)&&(void 0!==(i=t[s])?!!i:"RegExp"==n(t))}},"6f29":function(t,i,e){"use strict";e.r(i);var r=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("el-row",[e("el-col",{attrs:{span:12}},[e("div",{staticClass:"player"},[e("div",{staticClass:"player_disk"},[e("div",{staticClass:"disk",class:{disk__playing:t.isPlaying}},[e("label",{ref:"cover",staticClass:"disk_cover",style:{transform:t.stopMatrix,backgroundImage:t.coverUrl?"url("+t.coverUrl+")":""},attrs:{for:"file"}})])]),e("div",{staticClass:"player_control"},[e("div",{staticClass:"control",class:{control__playing:t.isPlaying}},[e("div",{staticClass:"control_btn control_btn__side",on:{click:t.prev}},[e("i",{staticClass:"el-icon-arrow-left"})]),e("div",{staticClass:"control_btn",on:{click:t.onplay}},[e("i",{class:t.isPlaying?"el-icon-video-pause":"el-icon-video-play"})]),e("div",{staticClass:"control_btn control_btn__side",on:{click:t.next}},[e("i",{staticClass:"el-icon-arrow-right"})])])]),e("div",{staticClass:"player_progress"},[e("div",{staticClass:"progress",class:{progress__playing:t.isPlaying}},[e("h2",{staticClass:"progress_title"},[t._v(" "+t._s(t.currentPlay?t.currentPlay.name:"暂无播放歌曲")+" ")]),e("p",{staticClass:"progress_text"},[t._v(" "+t._s(t.s_to_hs(t.position))+" / "+t._s(t.s_to_hs(t.duration))+" ")]),e("div",{staticClass:"progress_line"},[e("span",{style:{width:t.progress}})])])])]),t._v(" >")]),e("el-col",{attrs:{span:12}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showlyric,expression:"showlyric"}],staticClass:"lyric"},[e("p",[t._v(" "+t._s(t.currentLyric)+" ")]),e("p",{directives:[{name:"show",rawName:"v-show",value:t.currentTranslationLyric,expression:"currentTranslationLyric"}]},[t._v(t._s(t.currentTranslationLyric))])])]),e("el-col",{attrs:{span:0}},[e("audio",{ref:"audio",attrs:{src:t.playUrl,loop:t.isLoop,autoplay:t.isPlaying},on:{timeupdate:t.onupdate,canplay:t.getDuration,play:t.play,pause:t.pause,ended:t.end}})])],1)},n=[],a=e("1da1"),s=e("5530"),l=(e("ac1f"),e("1276"),e("159b"),e("b680"),e("96cf"),e("5880")),c={data:function(){return{newLyric:"",newLyric2:"",showlyric:!0,stopMatrix:0,position:0,duration:0,playSong:{},currentLyric:"",currentTranslationLyric:""}},watch:{playId:function(t){console.log(t),this.getCurrentPlay(t),this.getCurrentPlayLyric(t)},lyric:function(t){this.changeLyric()},isPlaying:function(t){t?this.$refs.audio.play():this.$refs.audio.pause()}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["mapMutations"])("play",["changePlayId","playNextSong","playPrevSong","changePlayState"])),Object(l["mapActions"])("play",["getCurrentPlay"])),Object(l["mapActions"])("lyric",["getCurrentPlayLyric"])),{},{next:function(){this.playNextSong(this.playId),console.log("当前播放id",this.playId,"点击下一首")},prev:function(){this.playPrevSong(this.playId),console.log("当前播放id",this.playId,"点击上一首")},getDuration:function(){this.duration=this.$refs.audio.duration},play:function(){var t=this;this.changePlayState(!0),setTimeout((function(){t.playId!==t.currentPlay.id&&t.getCurrentPlay(t.playId),t.lyric||t.getCurrentPlayLyric(t.playId)}),2e3),!this.newLyric&&this.lyric&&this.changeLyric()},pause:function(){this.changePlayState(!1)},onupdate:function(){var t,i;null!==(t=this.$refs.audio)&&void 0!==t&&t.currentTime&&(this.position=null===(i=this.$refs.audio)||void 0===i?void 0:i.currentTime);this.newLyric[parseInt(this.position)]&&(this.currentLyric=this.newLyric[parseInt(this.position)],this.newLyric2&&(this.currentTranslationLyric=this.newLyric2[parseInt(this.position)]))},onplay:function(){this.isPlaying?(this.changePlayState(!1),this.$refs.audio.pause()):(this.changePlayState(!0),this.$refs.audio.play())},end:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.currentLyric="",t.changePlayState(!1),i.next=4,t.playNextSong(t.playId);case 4:setTimeout((function(){t.playId&&t.changePlayState(!0)}),1e3);case 5:case"end":return i.stop()}}),i)})))()},changeLyric:function(){this.currentLyric=null,this.currentTranslationLyric=null,this.lyric&&"当前歌曲暂无歌词"!==this.lyric?this.newLyric=this.formatLyric(this.lyric):(this.newLyric="",this.currentLyric="当前歌曲暂无歌词"),this.lyric2?this.newLyric2=this.formatLyric(this.lyric2):this.newLyric2=null},formatLyric:function(t){var i=t.split("["),e=[];i.forEach((function(t){e.push(t.split("]"))}));var r={};return e.forEach((function(t,i){r[60*t[0].split(".")[0].split(":")[0]+1*t[0].split(".")[0].split(":")[1]]=t[1]})),r},s_to_hs:function(t){var i;return i=Math.floor(t/60),t=parseInt(t%60),i+="",t+="",i=1===i.length?"0"+i:i,t=1===t.length?"0"+t:t,i+":"+t}}),computed:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["mapState"])("lyric",["lyric","lyric2"])),Object(l["mapState"])("play",["playId","currentPlay","playList","isPlaying","isLoop"])),Object(l["mapGetters"])("play",["playUrl","coverUrl"])),{},{progress:function(){if(this.playUrl){var t=this.position/this.duration;return"".concat((100*t).toFixed(2),"%")}return 0}})},o=c,u=(e("9229"),e("2877")),h=Object(u["a"])(o,r,n,!1,null,"6001d04a",null);i["default"]=h.exports},"891c":function(t,i,e){},9229:function(t,i,e){"use strict";e("891c")},b680:function(t,i,e){"use strict";var r=e("23e7"),n=e("a691"),a=e("408a"),s=e("1148"),l=e("d039"),c=1..toFixed,o=Math.floor,u=function(t,i,e){return 0===i?e:i%2===1?u(t,i-1,e*t):u(t*t,i/2,e)},h=function(t){var i=0,e=t;while(e>=4096)i+=12,e/=4096;while(e>=2)i+=1,e/=2;return i},p=function(t,i,e){var r=-1,n=e;while(++r<6)n+=i*t[r],t[r]=n%1e7,n=o(n/1e7)},y=function(t,i){var e=6,r=0;while(--e>=0)r+=t[e],t[e]=o(r/i),r=r%i*1e7},d=function(t){var i=6,e="";while(--i>=0)if(""!==e||0===i||0!==t[i]){var r=String(t[i]);e=""===e?r:e+s.call("0",7-r.length)+r}return e},f=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l((function(){c.call({})}));r({target:"Number",proto:!0,forced:f},{toFixed:function(t){var i,e,r,l,c=a(this),o=n(t),f=[0,0,0,0,0,0],g="",v="0";if(o<0||o>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(g="-",c=-c),c>1e-21)if(i=h(c*u(2,69,1))-69,e=i<0?c*u(2,-i,1):c/u(2,i,1),e*=4503599627370496,i=52-i,i>0){p(f,0,e),r=o;while(r>=7)p(f,1e7,0),r-=7;p(f,u(10,r,1),0),r=i-1;while(r>=23)y(f,1<<23),r-=23;y(f,1<<r),p(f,1,1),y(f,2),v=d(f)}else p(f,0,e),p(f,1<<-i,0),v=d(f)+s.call("0",o);return o>0?(l=v.length,v=g+(l<=o?"0."+s.call("0",o-l)+v:v.slice(0,l-o)+"."+v.slice(l-o))):v=g+v,v}})}}]);
//# sourceMappingURL=chunk-d44aa9ce.84264ac7.js.map